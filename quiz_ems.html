
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>L'espace jeux</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
    <link rel="stylesheet" href="app.css">
    <link rel="icon" href="favicon.ico" />
  </head>


  <body>
    <section class="section">
      <h2 class="title">Objectif : trouver les 33 communes de l'EMS!</h2>
      <h5>Désolé, il faut vérifier vous-mêmes que vous avez tout. Les communes sont classées et numérotées pour vous aider.</h5>

      <p class="subtitle">Bonne chance !</p>
      <p>Temps : <span id="timer_display"></span> secondes</p>

      <input id="tentative" type="text" onchange="changeBackground(this)";/>

      <br>


      <section id="success_msg" class="hero is-success" style="display:none;">
        <br>
        <div class="hero-body">
          <p class="title">
            Félicitations !
          </p>
          <p class="subtitle">
            Tu connais l'EMS sur le bout des doigts.
          </p>
        </div>
        <br>
      </section>

      <table  class="table">
      <thead>
          <tr>
              <th>N° - Commune</th>
          </tr>
      </thead>
      <tbody>

        <tr id="vRate" style="color:blue; display:none;"><td id="compteur_fails" style="padding :0.3em 0.5em;"></td><td style="padding :0.3em 0.5em;" id="encouragement"></td></tr>
        <tr  id="v2" style="color:blue; display:none;">
            <td style="padding :0.3em 0.5em;">1</td>
            <td style="padding :0.3em 0.5em;">Achenheim</td>
        </tr>
        <tr id="v3" style="color:blue; display:none;">
            <td style="padding :0.3em 0.5em;">2</td>
            <td style="padding :0.3em 0.5em;">Bischheim</td>
        </tr>
        <tr id="v4" style="color:blue; display:none;">
          <td style="padding :0.3em 0.5em;">3</td>
          <td style="padding :0.3em 0.5em;">Blaesheim</td>
        </tr>
        <tr id="v5" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">4</td><td style="padding :0.3em 0.5em;">Breuschwickersheim</td></tr>
        <tr id="v6" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">5</td><td style="padding :0.3em 0.5em;">Eckbolsheim</td></tr>
        <tr id="v7" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">6</td><td style="padding :0.3em 0.5em;">Eckwersheim</td></tr>
        <tr id="v8" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">7</td><td style="padding :0.3em 0.5em;">Entzheim</td></tr>
        <tr id="v9" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">8</td><td style="padding :0.3em 0.5em;">Eschau</td></tr>
        <tr id="v10" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">9</td><td style="padding :0.3em 0.5em;">Fegersheim</td></tr>
        <tr id="v11" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">10</td><td style="padding :0.3em 0.5em;">Geispolsheim</td></tr>
        <tr id="v12" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">11</td><td style="padding :0.3em 0.5em;">Hangenbieten</td></tr>
        <tr id="v13" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">12</td><td style="padding :0.3em 0.5em;">Hoenheim</td></tr>
        <tr id="v14" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">13</td><td style="padding :0.3em 0.5em;">Holtzheim</td></tr>
        <tr id="v15" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">14</td><td style="padding :0.3em 0.5em;">Illkirch-Graffenstaden</td></tr>
        <tr id="v16" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">15</td><td style="padding :0.3em 0.5em;">Kolbsheim</td></tr>
        <tr id="v17" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">16</td><td style="padding :0.3em 0.5em;">Lampertheim</td></tr>
        <tr id="v18" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">17</td><td style="padding :0.3em 0.5em;">Lingolsheim</td></tr>
        <tr id="v19" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">18</td><td style="padding :0.3em 0.5em;">Lipsheim</td></tr>
        <tr id="v20" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">19</td><td style="padding :0.3em 0.5em;">Mittelhausbergen</td></tr>
        <tr id="v21" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">20</td><td style="padding :0.3em 0.5em;">Mundolsheim</td></tr>
        <tr id="v22" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">21</td><td style="padding :0.3em 0.5em;">Niederhausbergen</td></tr>
        <tr id="v23" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">22</td><td style="padding :0.3em 0.5em;">Oberhausbergen</td></tr>
        <tr id="v24" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">23</td><td style="padding :0.3em 0.5em;">Oberschaeffolsheim</td></tr>
        <tr id="v25" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">24</td><td style="padding :0.3em 0.5em;">Osthoffen</td></tr>
        <tr id="v26" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">25</td><td style="padding :0.3em 0.5em;">Ostwald</td></tr>
        <tr id="v27" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">26</td><td style="padding :0.3em 0.5em;">Plobsheim</td></tr>
        <tr id="v28" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">27</td><td style="padding :0.3em 0.5em;">Reichstett</td></tr>
        <tr id="v29" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">28</td><td style="padding :0.3em 0.5em;">Schiltigheim</td></tr>
        <tr id="v30" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">29</td><td style="padding :0.3em 0.5em;">Souffelweyersheim</td></tr>
        <tr id="v31" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">30</td><td style="padding :0.3em 0.5em;">Strasbourg</td></tr>
        <tr id="v32" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">31</td><td style="padding :0.3em 0.5em;">Vendenheim</td></tr>
        <tr id="v33" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">32</td><td style="padding :0.3em 0.5em;">La Wantzenau</td></tr>
        <tr id="v34" style="color:blue; display:none;"><td style="padding :0.3em 0.5em;">33</td><td style="padding :0.3em 0.5em;">Wolfisheim </td></tr>
      </tbody>
    </table>
    </section>
  </body>

<script>


  const les_communes = ["Achenheim","Bischheim","Blaesheim","Breuschwickersheim","Eckbolsheim","Eckwersheim","Entzheim","Eschau","Fegersheim","Geispolsheim","Hangenbieten","Hoenheim","Holtzheim","Illkirch-Graffenstaden","Kolbsheim","Lampertheim","Lingolsheim","Lipsheim","Mittelhausbergen","Mundolsheim","Niederhausbergen","Oberhausbergen","Oberschaeffolsheim","Osthoffen","Ostwald","Plobsheim","Reichstett","Schiltigheim","Souffelweyersheim","Strasbourg","Vendenheim","La Wantzenau","Wolfisheim"];
  var verified = Array(33).fill(false);
  console.log(verified);
  var allchar="0123456789ABCDEF";

  var compteur = 0;

  function changeBackground(obj) {

    if (les_communes.includes(tentative.value) == true) {
      // top
      var index = les_communes.indexOf(tentative.value) + 2;
      var nom_var = "v" + index.toString();
      verified[index-2] = true;
      console.log(verified);
      document.getElementById(nom_var).style.display = 'block';
      if (verified.includes(false) == false){
        console.log("GAGNE");
        document.getElementById(success_msg ).style.display = 'block';
      }
    }

    else {
      compteur = compteur -1;
      console.log(compteur);
      document.getElementById('compteur_fails').innerHTML = compteur.toString();

      switch (compteur) {
        default:
          document.getElementById('encouragement').innerHTML = "Raté. Essaie encore !";
          break;
        case -1:
          document.getElementById('encouragement').innerHTML = "Oups. Personne n'est parfait";
          break;
        case -2:
          document.getElementById('encouragement').innerHTML = "Jamais 2 sans 3 échecs ?";
          break;
        case -3:
          document.getElementById('encouragement').innerHTML = "Un raté prévisible";
          break;
        case -4:
          document.getElementById('encouragement').innerHTML = "Prévisible aussi, vu ton signe astro";
          break;
        case -10:
          document.getElementById('encouragement').innerHTML = "10 échecs... persévère";
          break;
        case -33:
          document.getElementById('encouragement').innerHTML = "Autant de ratés que de communes";
          break;

      }

      // pas dans la liste
      document.getElementById("vRate").style.display = 'block';

      // couleur aléatoire pour plus de fun
      var  randcol= "";
      for(var i=0; i<6; i++){
         randcol += allchar[Math.floor(Math.random()*16)];
        }
      document.getElementById("vRate").style.color = "#"+randcol;
    };
    document.getElementById("tentative").value = "";
}





  var count = 0;
  function updateCount() {
   count = count + 1;
   document.getElementById("timer_display").innerHTML = count;
   setTimeout(updateCount, 1000);
  }
  updateCount();

  </script>





</html>